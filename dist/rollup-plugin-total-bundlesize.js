import e from"boxen";import t from"rollup-plugin-filesize";const r="[0m",l="[93m",a="[36m",i="[90m";var o=(o={})=>{const n={padding:{top:0,right:1,bottom:0,left:1},title:"Total size",borderStyle:"single",...o},s=e=>{let[t,r]=e.split(" ");switch(t=parseFloat(t),r){case"B":default:return t;case"KB":return 1e3*t;case"MB":return 1e6*t;case"GB":return 1e9*t}},$=e=>e.toLocaleString("en",{maximumFractionDigits:2}),c=e=>{let t;switch(e=parseFloat(e),!0){case e<1e3:t=$(e)+" B";break;case e>=1e3&&e<1e6:t=$(e/1e3)+" KB";break;case e>=1e6&&e<1e9:t=$(e/1e6)+" MB";break;case e>=1e9&&e<1e12:t=$(e/1e9)+" GB";break;case e>=1e12:t=$(e/1e12)+" TB";break;default:t=$(e)+" B"}return t};let u=0,p=0,m=0,B=0;return{name:"rollup-plugin-total-bundlesize",generateBundle:async(...o)=>{await t({showBrotliSize:!0,reporter:(e,t,{fileName:r,bundleSize:l,minSize:a,gzipSize:i,brotliSize:o})=>{u+=s(l),p+=s(a),m+=s(i),B+=s(o)}}).generateBundle(...o);const $=`${a}Bundle:${r}${i}${c(u)}${r} | ${a}Minified:${r}${i}${c(p)}${r} | ${a}Gzipped:${i}${c(m)}${r} | ${a}Brotli:${r}${i}${c(B)}`;console.log("\n"),console.log(r),console.log(e(`${l}${$}${r}`,n))}}};export{o as default};
//# sourceMappingURL=rollup-plugin-total-bundlesize.js.map
