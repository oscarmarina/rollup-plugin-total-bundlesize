import e from"boxen";import t from"rollup-plugin-filesize";const r="[0m",l="[93m",a="[36m",o="[90m";var i=(i={})=>{const n={padding:{top:0,right:1,bottom:0,left:1},title:"Total size",borderStyle:"single",...i},s=e=>{let[t,r]=e.split(" ");switch(r){case"B":return parseFloat(t);case"KB":return 1e3*parseFloat(t);case"MB":return 1e6*parseFloat(t);case"GB":return 1e9*parseFloat(t);default:return t}},$=e=>e.toLocaleString("en",{maximumFractionDigits:2}),u=e=>{let t;switch(e=parseFloat(e),!0){case e<1e3:t=$(e)+" B";break;case e>=1e3&&e<1e6:t=$(e/1e3)+" KB";break;case e>=1e6&&e<1e9:t=$(e/1e6)+" MB";break;case e>=1e9&&e<1e12:t=$(e/1e6)+" GB";break;default:t=String(e.toFixed())}return t};let c=0,p=0,m=0,d=0;return{name:"rollup-plugin-total-bundlesize",generateBundle:async(...i)=>{await t({showBrotliSize:!0,reporter:(e,t,{fileName:r,bundleSize:l,minSize:a,gzipSize:o,brotliSize:i})=>{c+=s(l),p+=s(a),m+=s(o),d+=s(i)}}).generateBundle(...i);const $=`${a}Bundle:${r}${o}${u(c)}${r} | ${a}Minified:${r}${o}${u(p)}${r} | ${a}Gzipped:${o}${u(m)}${r} | ${a}Brotli:${r}${o}${u(d)}`;console.log("\n"),console.log(r),console.log(e(`${l}${$}${r}`,n))}}};export{i as default};
//# sourceMappingURL=rollup-plugin-total-bundlesize.js.map
